<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><title>appstore</title><style type="text/css">.statistics{position:absolute;top:0;left:0;z-index:100;min-width:60px;padding:0 4px;font-size:11px;background:rgba(0,0,0,.7);color:#8EF2AD;line-height:1.3}.statistics-right{position:absolute;left:auto;right:0;color:#ff758f}.statistics-index{color:#F93}.search .statistics{font-size:8px;text-align:left}.menu .statistics{font-size:8px;padding:2px 0}
.recommend{display:flex}.recommend-img-col0,.recommend-img-col2{position:relative;float:left;border-radius:2px;overflow:hidden;background:url(assets-market-placeholder.png) center center no-repeat;background-size:28px 28px;background-color:#efeff0;flex:1;margin:13px 0}.recommend-img-col0:before,.recommend-img-col2:before{content:'';display:block;padding-top:60.73%}.recommend-img-col1:before{content:'';display:block;padding-top:37.22%}.recommend-img-col11:before{content:'';display:block;padding-top:44.44%}.recommend-img:first-child,.recommend-img-col0:first-child,.recommend-img-col2:first-child{margin-left:13px;margin-right:8px}.recommend-img:last-child,.recommend-img-col0:last-child,.recommend-img-col2:last-child{float:right;margin-right:13px}.recommend-img-col1,.recommend-img-col11{position:relative;overflow:hidden;background:url(assets-market-placeholder.png) center center no-repeat;background-size:35px 35px;background-color:#efeff0;margin:0;flex:1}.recommend img{position:absolute;left:0;top:0;border-radius:2px;vertical-align:middle;width:100%;height:100%}.recommend-img-col1 img,.recommend-img-col11 img{border-radius:0}
.nav{margin:0;padding:0 12px 12px;display:flex}.nav span{color:#5F5F5F;display:inline-block;text-align:center;flex:1;background-size:46.6px auto;font-size:13px;line-height:1;background-repeat:no-repeat}.nav span:last-child{margin-right:0}.nav span:before{content:"";display:block;height:47px;padding-bottom:7px}.nav .nav-subject{background-repeat: no-repeat;}.nav .nav-new{background-repeat: no-repeat;}.nav .nav-rank{background-repeat: no-repeat;}.nav .nav-cat{background-repeat: no-repeat;}.header .nav span{position:relative;background-position-x:center}.nav .nav-subject{background-position:0px 0px}.nav .nav-new{background-position:0px -74.91px}.nav .nav-rank{background-position:0px -149.82px}.nav .nav-cat{background-position:0px -224.4px}.nav .nav-subject,.nav .nav-new,.nav .nav-rank,.nav .nav-cat{background-size: 46.2px 270.6px;background-image: url(v-common_0.33_z.png)}
.icon-star,.icon-star-light{background-image:url(assets-star.png)}.icon-star{background-repeat:repeat-x;background-size:auto 16px;width:48px;height:8px;background-position:0 -8px}.icon-star-light{background-position:0 0}.icon-star0 .icon-star-light{width:0}.icon-star1 .icon-star-light{width:4px}.icon-star2 .icon-star-light{width:8px}.icon-star3 .icon-star-light{width:14px}.icon-star4 .icon-star-light{width:18px}.icon-star5 .icon-star-light{width:24px}.icon-star6 .icon-star-light{width:28px}.icon-star7 .icon-star-light{width:34px}.icon-star8 .icon-star-light{width:38px}.icon-star9 .icon-star-light{width:44px}.icon-star10 .icon-star-light{width:100%}
.touch{background:0 0;border:0}.touch,.touch-active{left:0;top:0;position:absolute;width:100%;height:100%}.touch:active .touch-active{display:block}.touch-active{display:none;z-index:-9;left:0;top:-1px;width:100%;height:calc(100% + 1px);background-image:linear-gradient(180deg,#fff,#fff 67%,#d3d3d3 67%),linear-gradient(90deg,transparent,transparent 67%,#d3d3d3 67%),linear-gradient(180deg,transparent,transparent 67%,#d3d3d3 67%),linear-gradient(90deg,transparent,transparent 100%),linear-gradient(180deg,#ececec,#ececec 100%);background-size:100% 1px,1px calc(100% + 1px),100% 1px,1px calc(100% + 1px),100% 100%;background-repeat:no-repeat;background-position:top,right,bottom,left}.tap:before{position:absolute;display:none;content:'';left:0;top:-1px;z-index:-1;width:100%;height:calc(100% + 1px);background-image:linear-gradient(180deg,#fff,#fff 67%,#d3d3d3 67%),linear-gradient(90deg,transparent,transparent 67%,#d3d3d3 67%),linear-gradient(180deg,transparent,transparent 67%,#d3d3d3 67%),linear-gradient(90deg,transparent,transparent 100%),linear-gradient(180deg,#ececec,#ececec 100%);background-size:100% 1px,1px calc(100% + 1px),100% 1px,1px calc(100% + 1px),100% 100%;background-repeat:no-repeat;background-position:top,right,bottom,left}.tap:active:before{display:block}
.install-btn{width:50px;height:28px;padding:13px 12px;font-size:12px;line-height:1;text-align:center;vertical-align:middle;color:#21b65c}.install-btn .install-btn-display{position:relative;box-sizing:border-box;height:28px;display:flex;align-items:center;justify-content:center;z-index:0;border-radius:2px;overflow:hidden;white-space:nowrap}.install-btn .install-btn-display:before{position:absolute;left:0;top:0;content:'';z-index:-1;display:block;width:calc(300% - 2px);height:calc(300% - 2px);background-color:#fff;border-radius:6px;border:1px solid #09ae4a;-webkit-transform:scale(0.3333);-webkit-transform-origin:0 0;transform:scale(0.3333);transform-origin:0 0}.install-progress{left:0;top:0;height:100%;box-sizing:border-box;width:0;position:absolute;z-index:-1;background-color:rgba(77,212,50,.7);-webkit-transition:width .5s ease;transition:width .5s ease}.install-btn .touch{z-index:1}.install-btn.install-btn-open{color:#404040}.install-btn.install-btn-open .install-btn-display:before{border-color:#999}.install-btn.install-btn-open .install-progress{display:none}.install-btn.install-btn-progress{color:#7b7b7b}.install-btn.install-btn-progress .install-btn-display:before{background-color:#f7f7f7;border-color:#d2d2d2}.install-btn.install-btn-action{color:rgba(0,0,0,.6)}.install-btn.install-btn-action .install-btn-display:before{background-color:#fafafa;border-color:#d1d1d1}.install-btn.install-btn-action .install-progress{display:none}.install-btn.install-btn-action-pause .install-progress{display:block}.install-btn .touch:active+.install-btn-display:before{background:#ececec}.install-btn .touch[disabled]:active+.install-btn-display:before{background:#fafafa}
.applist .install-btn{position:absolute;top:50%;padding:11px 10px;margin:0 2px;margin-top:-25px;right:1px;z-index:0}.applist-item,.applist li{position:relative;z-index:0}.applist-img{position:relative;display:inline-block;background:url(assets-market-placeholder.png) #efeff0 center center no-repeat;background-size:16px 16px;width:52px;height:52px;border-radius:8px}.applist-img:before{content:"";display:block;position:absolute;z-index:2;top:0;left:0;border:1px solid rgba(0,0,0,.15);border-radius:24px;width:calc(300% - 2px);height:calc(300% - 2px);-webkit-transform:scale(0.3333);-webkit-transform-origin:0 0;transform:scale(0.3333);transform-origin:0 0}.applist-img img{border-radius:8px;display:inline-block;vertical-align:middle;background:#fff}.applist-wrap{display:flex;align-items:center;margin:0 13px;padding:9px 61px 9px 0;background-image:linear-gradient(180deg,transparent,transparent 67%,#d3d3d3 67%);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}.applist-wrap-des{flex:1;margin-left:10px;line-height:1.2;display:inline-flex;align-content:space-between;flex-wrap:wrap;min-height:52px;overflow:hidden}.applist h3{position:relative;width:100%}.applist-name{display:inline-block;width:100%;color:#343434;vertical-align:top}.applist-info,.applist-info-bottom{display:flex;align-items:center;color:#999;font-size:10px}.applist-wrap-flex-item{width:100%}.applist-info>.icon-star{margin:0 2px 2px 0}.applist-info span{margin-right:3px}.applist-info-size{margin-right:2px}.applist-info .ellipsis{max-width:55px}.applist-ad{position:relative;padding:2px 3px;font-size:6px;margin-left:3px;line-height:1;white-space:nowrap}.applist-ad:before{content:"";display:block;position:absolute;z-index:-1;left:0;top:-1px;border-radius:6px;border:1px solid #E0E0E0;width:calc(300% - 2px);height:calc(300% - 2px);-webkit-transform:scale(0.3333);-webkit-transform-origin:0 0;transform:scale(0.3333);transform-origin:0 0}.applist-rank{display:none}.ranklist .applist-rank{display:inline-block;width:31px;text-align:center;color:#191919}.applist-brief{font-size:12px;color:#8d8d8d}.applist-info-bottom{font-size:12px;color:#8d8d8d}.applist-info-bottom span{margin-right:3px}
body,ul,h1,h2,h3,p,dl,dd,dt,button{margin:0;padding:0;list-style:none}body{font:14px/1.5 miui;background-color:#fff;color:#4a4a4a;-webkit-user-select:none}h1{font-size:18px}h2{font-size:16px;font-weight:400}h3{font-size:15px;font-weight:400;color:#1A1919}h4{font-size:14px;font-weight:400;color:#7c7c7c}ul,li{list-style:none}input,button{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;outline:0}html,body{-webkit-text-size-adjust:100%}a{color:#3f6eb1;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}
.cf{*zoom:1}.cf:before,.cf:after{display:table;content:""}.cf:after{clear:both}.hide{display:none!important}.fl{float:left}.fr{float:right}.side-blur{position:relative;white-space:nowrap;overflow:hidden}.side-blur:after{position:absolute;top:0;right:-1px;content:"";display:block;width:12px;height:100%;background-image:linear-gradient(90deg,rgba(248,248,248,0),rgba(248,248,248,.95) 68%,#fff)}.ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.lazyload{opacity:0}.lazyload-show{opacity:1}body .lazyload-nobg{background:0 0}.lazyload-fadein{position:relative;z-index:1;transition:opacity .5s linear;opacity:1}.line-bottom{background-image:linear-gradient(180deg,transparent,transparent 67%,#d3d3d3 67%);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom}.line-top{background-image:linear-gradient(0deg,transparent,transparent 67%,#d3d3d3 67%);background-size:100% 1px;background-repeat:no-repeat;background-position:top}.card{background-color:#fff;border-bottom:10px solid #efeff0}.card-both{position:relative;top:-1px;background-color:#fff;border-top:10px solid #efeff0;border-bottom:10px solid #efeff0}section:first-child .card-both:first-child{border-top:0;top:0}.card-font-left{display:inline-block;font-size:13px;color:#343434;font-weight:700}.card-font-right{display:inline-block;font-size:12px;color:#8d8d8d}.pd12{padding-left:12px;padding-right:12px}hr,.hr-mg12{background-image:linear-gradient(180deg,transparent,transparent 67%,rgba(0,0,0,.15) 67%);border:0;height:1px;margin:0}.hr-mg12{margin:0 12px}.scroll-x{overflow-x:scroll;overflow-y:hidden;white-space:nowrap;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.icon-circle{position:relative}.icon-circle:before{position:absolute;box-sizing:border-box;top:0;left:0;content:"";display:block;border:2px solid #ccc;border-radius:100px;width:300%;height:300%;transform:scale(0.3333);transform-origin:0 0;-webkit-transform:scale(0.3333);-webkit-transform-origin:0 0}.icon-placeholder{position:relative;margin:0 auto;background:url(assets-market-placeholder.png) center center no-repeat;background-size:16px 16px;background-color:#efeff0;width:52px;height:52px;border-radius:8px;overflow:hidden}.icon-placeholder:before{content:"";display:block;position:absolute;z-index:2;top:0;left:0;border:1px solid rgba(0,0,0,.15);border-radius:24px;width:calc(300% - 2px);height:calc(300% - 2px);-webkit-transform:scale(0.3333);-webkit-transform-origin:0 0;transform:scale(0.3333);transform-origin:0 0}.container{display:none}@-webkit-keyframes fadein{0%{opacity:0}100%{opacity:1}}@keyframes fadein{0%{opacity:0}100%{opacity:1}}.fadein{display:block;-webkit-animation:fadein .4s ease 1;-webkit-animation-fill-mode:forwards;animation:fadein .4s ease 1;animation-fill-mode:forwards}.banner-ad{position:absolute;top:3px;right:3px;padding:2px 3px;font-size:10px;color:rgba(255,255,255,.6);background:rgba(0,0,0,.1);border-radius:2px;line-height:1;z-index:2}.banner-ad:before{content:"";display:block;position:absolute;z-index:-1;left:0;top:-1px;border-radius:6px;border:1px solid rgba(255,255,255,.1);width:calc(300% - 2px);height:calc(300% - 2px);-webkit-transform:scale(0.3333);-webkit-transform-origin:0 0;transform:scale(0.3333);transform-origin:0 0}.horizonal-ad .applist-ad{position:absolute;white-space:nowrap;transform:scale(0.8,.8);-webkit-transform:scale(0.8,.8);margin-left:0;padding:2px 3px;line-height:1;font-size:6px;top:-2px;color:#b2b2b2}.horizonal-ad .applist-ad:before{content:"";display:block;position:absolute;z-index:-1;left:0;top:-1px;border-radius:6px;border:1px solid #CCC;width:calc(300% - 2px);height:calc(300% - 2px);-webkit-transform:scale(0.3333);-webkit-transform-origin:0 0;transform:scale(0.3333);transform-origin:0 0}
.load,.load-bottom-fix{font-size:12px;color:#999;display:flex;align-items:center;justify-content:center}.load{padding:15px 0;height:12px;line-height:1;background:#fff}.load-bottom-fix{position:fixed;bottom:0;width:100%;height:51px;z-index:99;background-image:linear-gradient(180deg,rgba(255,255,255,0),rgba(255,255,255,.85) 38%,rgba(255,255,255,1))}.load-bottom-fix span{margin-left:5px}.icon-loading-small{vertical-align:middle;display:inline-block;width:16px;height:16px;background:url(c-loading.png) center center no-repeat;background-size:contain;-webkit-animation:auto-circle 1s linear infinite}@-webkit-keyframes auto-circle{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}.icon-no-network{display:inline-block;width:38px;height:38px;background:url(c-no_network.png) 0 0 no-repeat;background-size:contain}.load span{vertical-align:middle;margin-left:3px}.btn-restry{border:1px solid #ccc;padding:3px 8px}.load-middle{position:fixed;background:0 0;top:50%;text-align:center;width:100%;margin:-45px 0 0 0;z-index:999;line-height:2;padding:0;min-height:0}.load-middle p{margin:9px 0}.no-network{margin-top:-55px}.no-network-bottom{position:relative;color:#fff;font-size:13px;padding:0 13.3px;background:rgba(0,0,0,.75);width:100%}.no-network-bottom span{margin:0;display:flex;align-items:center;height:51px}.no-network-bottom span:first-child{max-width:218px}.btn-reflesh{border-radius:27px;border:1px solid #787878;background:rgba(0,0,0,.2);color:#fff;padding:8px 21px;line-height:1}.btn-reflesh:active{background:rgba(0,0,0,.35)}
.list-pannel h4{position:relative;padding:19px 0 8px;margin:0 13px;background-image:linear-gradient(180deg,transparent,transparent 67%,#d3d3d3 67%);background-size:100% 1px;background-repeat:no-repeat;background-position:bottom;vertical-align:middle;line-height:1}
.app-suggest{position:relative}.app-suggest:before{content:'';display:inline-block;width:25px;height:25px;border:1px solid #d3d3d3;background:#fafafa;position:absolute;top:-13px;left:26px;-webkit-transform:rotate(45deg) scale(0.3333);transform:rotate(45deg) scale(0.3333);z-index:1}.app-suggest>h4{position:relative;z-index:2;background:#fafafa;padding:15px 0 2px;margin-bottom:2px;font-size:13px;color:#343434}.app-suggest .applist-wrap{background:0 0}.app-suggest:after{position:absolute;content:'';left:0;top:-1px;z-index:-1;width:100%;height:calc(100% + 1px);background-image:linear-gradient(180deg,#fff,#fff 67%,#d3d3d3 67%),linear-gradient(90deg,transparent,transparent 67%,#d3d3d3 67%),linear-gradient(180deg,transparent,transparent 67%,#d3d3d3 67%),linear-gradient(90deg,transparent,transparent 100%),linear-gradient(180deg,#fafafa,#fafafa 100%);background-size:100% 1px,1px calc(100% + 1px),100% 1px,1px calc(100% + 1px),100% 100%;background-repeat:no-repeat;background-position:top,right,bottom,left}.app-suggest .applist-wrap-des{min-height:35px}.app-suggest .applist-wrap-flex-item{display:none}.app-suggest .applist-img,.app-suggest img{width:40px;height:40px}.app-suggest .applist-wrap-des h3{font-size:14px}.app-suggest .applist-info-bottom{font-size:11px}.app-suggest .applist{padding-bottom:9px}
header .recommend{background:0 0}.nav{min-height:67px}.nav .nav-surprice:before{display:none}.nav .nav-surprice{display:inline-block;position:relative;bottom:-13px}canvas{vertical-align:middle}</style></head><body><header class="header card"><div id="J_recommend" class="recommend cf"><div class="recommend-img"></div><div class="recommend-img"></div></div><div class="nav" id="J_nav"></div></header><ul id="J_applist" class="applist"></ul><div id="J_load" class="load load-middle"></div><script type="text/javascript" charset="utf-8" src="common.js"></script><script type="text/javascript">define("views/index/nav/g-nav.js",function(a,e){function t(a){var e=a.target.dataset.type;switch(e){case"subject":market.loadPage(JSON.stringify({url:PROTOCOL+"g-subject-list.html?refs="+i,title:l.gameSubject}));break;case"rank":market.loadPage(JSON.stringify({url:d.add(PROTOCOL+"sub-rank.html",{catid:"15",refs:i}),title:l.gameRank}));break;case"cat":market.loadPage(JSON.stringify({url:PROTOCOL+"g-cat-list.html?refs="+i,title:l.gameCat}));break;case"new":market.loadPage(JSON.stringify({url:PROTOCOL+"g-new-app.html?refs="+i,title:l.newGames}))}}var s='<span class="nav-subject" data-type="subject">{{subject}}</span>\r\n<span class="nav-rank" data-type="rank">{{rank}}</span>\r\n<span class="nav-surprice"><canvas id="J_canvas" data-count="1" width="66" height="66"></canvas></span>\r\n<span class="nav-cat" data-type="cat">{{categories}}</span>\r\n<span class="nav-new" data-type="new">{{newApp}}</span>',n='<span class="nav-subject ellipsis" data-type="subject">{{subject}}</span>\r\n<span class="nav-rank" data-type="rank">{{rank}}</span>\r\n<span class="nav-cat" data-type="cat">{{categories}}</span>\r\n<span class="nav-new" data-type="new">{{newApp}}</span>',r=a("assets/js/module/render.js"),d=a("assets/js/module/query.js"),i=ajaxData.refs=d.get("refs")+"-gameIndex",l={zh:{newApp:"新品",subject:"专题",rank:"排行",categories:"分类",gameSubject:"游戏专题",gameRank:"游戏排行",gameCat:"游戏分类",newGames:"游戏新品"},en:{newApp:"New",subject:"Editor's picks",rank:"Popular",categories:"Categories",gameSubject:"Featured",gameRank:"Top games",gameCat:"Categories",newGames:"New"},ru:{newApp:"Новые",subject:"Выбор редакции",rank:"Популярные",categories:"Категории",gameSubject:"Лучшие",gameRank:"Топ игры",gameCat:"Категории",newGames:"Новые"}};l=l[lang];var o=function(a){"en"===lang&&(s=n),n=null,a=$.extend({tpl:s,list:[l]},a),r(a),a.contain.addEventListener("click",t)};e.render=o}),define("components/recommend/recommend.js",function(a,e){function t(a){var e=a.target,t=(e.tagName.toLowerCase(),e.dataset),n=i({elem:e,posPrefix:l}),r=t.relatedid,d=t.type,o="subject/",c=s.get("catid")||"";switch(d){case"1":o=c?o+"-1_"+c:"subject/-1_-1",n.extra_params.refs=ajaxData.refs+"-detail/"+r;var p=$.extend(n,{url:"mimarket://details?appId="+r,ref:o,launchMode:loadDetailMethod});market.loadPage(JSON.stringify(p));break;case"2":var m=PROTOCOL+"subject.html";m=s.add(m,{id:r,catid:c}),m=s.add(m,n.extra_params);var p=$.extend(n,{url:m});market.loadPage(JSON.stringify(p));break;case"3":var m=s.add(t.link,n.extra_params),p=$.extend(n,{url:m,external:t.external||!1});market.loadPage(JSON.stringify(p))}a.stopPropagation()}var s=a("assets/js/module/query.js"),n='<div class="recommend-img-col{{displayType}}"><img class="J_lazyload lazyload J_exposure" width="163" height="99" data-src="{{bannerUrl}}" data-link-title="{{title}}" data-relatedid="{{relatedId}}" data-type="{{featuredType}}" data-link="{{link}}" data-pname="{{packageName}}" data-digest="{{digest}}"  data-expid="{{experimentalId}}" data-ad="{{ads}}"  data-index="{{$index}}" data-external="{{external}}" data-position="{{position}}" data-uid="{{uid}}" data-rid="{{rId}}" data-ext="{{ext}}">{{flag}}</div>';isInstantData&&(n=n.replace(/([\s\S]*)(<\/div>)/g,function(a,e,t){return e+'<div class="statistics" data-pos="{{pos}}" data-page-pos="{{pagePos}}">\r\n	{{index}}\r\n	{{tapAmount}}\r\n	{{downAmount}}\r\n	{{covertRate}}\r\n</div>'+t}));var r=a("assets/js/module/render.js"),d=a("assets/js/module/tap.js"),i=a("assets/js/createReqQuery.js"),l="recommend",o=function(a,e,s){if(s){var i=document.createElement("div");r({contain:i,tpl:n,list:e});var l=$(i).find("img"),o=$(a).find("img");l.each(function(a,e){var t=$(e),s=t.data("uid"),n=o.eq(a),r=n.data("uid");s!==r&&n.replaceWith(t)}),i=null}else r({contain:a,tpl:n,list:e}),d.on(a),a.addEventListener("tap",t)};e.render=o}),define("components/list-panel/list-panel.js",function(a,e,t){function s(a){var e=this.contain=document.createElement("div");e.className="list-pannel";var t=document.createElement("h4");t.innerHTML=a,e.appendChild(t);var s=this.content=document.createElement("ul");s.className="list-pannel-con",e.appendChild(s)}function n(a){return new s(a)}t.exports={createPanel:n}}),define("views/index/g-index.js",function(a){function e(a,e){var t=document.createElement("li");return t.className="recommend cf card-both",t.id=e,i.render(t,a),t}a("assets/js/global.js");var t=a("assets/js/module/dom.js"),s=t.id("J_nav"),n=a("views/index/nav/g-nav.js");n.render({contain:s});var t=a("assets/js/module/dom.js"),r=a("assets/js/module/query.js");window.ref="featured/15",ajaxData.refs=r.get("refs")+"-gameIndex",ajaxData.sid=r.get("sid"),ajaxData.pos=r.get("pos");var d,i=a("components/recommend/recommend.js"),l=a("assets/js/request.js"),o=a("assets/js/formate/banner.js"),c=a("assets/js/module/lazyLoad.js"),p=new c,m=a("assets/js/module/exposure.js"),u=new m,g=a("components/load/load.js"),f=g("#J_load","fixBottom"),v=t.id("J_recommend"),j=0,x=0,h=localStorage.getItem("v-gTopfeatured-2");if(h){var k=JSON.parse(h);i.render(v,k),p.show()}var w=HOST+"topfeatured/top/15";l.getJSON({url:w,data:ajaxData,callBack:function(a){for(var e=o({bannerList:a.topfeaturedList,host:a.thumbnail}),t=0,s=e.length;s>t;t++)e[t].$index=x++;var n=e.splice(0,2);d=e,i.render(v,n,h),p.update(!1),localStorage.setItem("v-gTopfeatured-2",JSON.stringify(n))}});var y=a("assets/js/formate/applist.js"),O=a("components/app-list/app-list.js"),b=t.id("J_applist"),J=localStorage.getItem("vgIndexList-1");if(J){var S=JSON.parse(J);O.render({contain:b,list:S.list,experimentalId:S.experimentalId,adExtrasMap:S.adExtrasMap}),p.show(),u.update()}l.getJSON({url:HOST+"featured/15?stamp=0",data:ajaxData,load:f,callBack:function(a){for(var t=y(a),s=0,n=t.length;n>s;s++)t[s].$index=j++;O.render({contain:b,list:t,experimentalId:a.experimentalId,adExtrasMap:a.adExtrasMap,diff:J});var r=$("#J_applist li").eq(14);r.after(d?e(d,"J_secRecommend"):e([{},{}],"J_secRecommend")),p.update(!1),u.update(),f.showEmpty(),t.length=6,localStorage.setItem("vgIndexList-1",JSON.stringify({list:t,experimentalId:a.experimentalId,adExtrasMap:a.adExtrasMap}))}})});</script><script>function canvasSprite(a){var e=a.canvas,t=e.getContext("2d"),i=a.image,n=a.imagesWidth,o=a.width,s=a.height,r=a.xStart,l=a.yStart,c=a.zoomWidth,g=a.zoomHeight,m=0,h=0,y=a.index,f=a.total,d=new Image;return{_self:"",draw:function(a,e,t,i,n,o,s,r,l,c){a.drawImage(e,t,i,n,o,0,0,s,r),l?a.drawImage(e,l,c,n,o,0,0,s,r):a.drawImage(e,0,0,n,o,0,0,s,r)},play:function(){d.complete&&f-1>y?(y++,m=Math.floor(y*o/n)*s,h=y*o%n,t.clearRect(0,0,o,s),_self.draw(t,d,r,l,o,s,c,g,h,m),requestAnimationFrame(_self.play)):y==f-1&&(cancelAnimationFrame(_self.play),t.clearRect(0,0,o,s),_self.draw(t,d,r,l,o,s,c,g),y=0)},initImg:function(){_self=this,d.onload=function(a){var i=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.backingStorePixelRatio||1,m=3;if(i!==n){var h=e.width,y=e.height;e.width=h*m,e.height=y*m,e.style.width=h+"px",e.style.height=y+"px",t.scale(m,m)}_self.draw(t,d,r,l,o,s,c,g)},d.src=i},rePlay:function(){_self=this,y=0,cancelAnimationFrame(_self.play),requestAnimationFrame(_self.play)}}}require.async("views/index/g-index.js");var _local={zh:{noTap:"求别点",onlyImg:"我只是个图",onlyImgAgain:"我真的只是个图",bless:"应用商店祝您天天开心"},en:{noTap:"Nothing to see here",onlyImg:"Are you OK?",onlyImgAgain:'Say "Moo" if you like easter eggs',bless:"Have a great day!"},ru:{noTap:"Не нажимай!",onlyImg:"У тебя все хорошо?",onlyImgAgain:'Скажи "MS", если любишь эту прошивку',bless:"Ну и это, удачного дня!"}};_local=_local[lang];var $canvas=$("#J_canvas");$canvas.on("click",function(a){sprite.rePlay();var e=$(a.target),t=e.data("count");switch(t){case 1:market.showToast(JSON.stringify({content:_local.noTap,type:0}));break;case 2:market.showToast(JSON.stringify({content:_local.onlyImg,type:0}));break;case 3:market.showToast(JSON.stringify({content:_local.onlyImgAgain,type:0}));break;default:market.showToast(JSON.stringify({content:_local.bless,type:1}))}e.data("count",t+1)});var canvas=$canvas[0],params={canvas:canvas,image:"http://resource.xiaomi.net/apm/static/wink4.png",imagesWidth:836,width:209,height:209,xStart:627,yStart:209,zoomWidth:66,zoomHeight:66,yOffset:0,xOffset:0,index:0,total:7};if(canvas){var sprite=canvasSprite(params);sprite.initImg()}</script></body></html>